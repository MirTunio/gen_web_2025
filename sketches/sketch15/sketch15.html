  <!DOCTYPE html>
  <html lang="en">
  <head>
    <!-- Base path setup -->
    <script>
      const base = document.createElement("base");
      if (window.location.hostname.includes("github.io")) {
        base.href = "/gen_web_2025/";
      } else {
        base.href = "/";
      }
      document.head.prepend(base);
    </script>

    <link rel="icon" href="assets/images/favicon.jpg" type="image/jpeg">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Burning Daylight</title>

    <style>
      body {
        font-family: monospace;
        font-size: 1.1em;
        line-height: 1.6;
        background: #cdcdcd;
        color: #333;
        max-width: 62.5em;
        margin: auto;
        padding: 1.25em;
      }

      header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1em;
      }
      header h1 { font-size: 1.5em; margin: 0; }
      a.title-link { text-decoration: none; color: #000; transition: color 0.3s ease; }
      a.title-link:hover { color: #666; }
      a.title-link.inactive { color: #aaa; }
      a.title-link.inactive:hover { color: #000; }

      a {
        color: #000;              /* black text */
        text-decoration: underline; /* always underlined */
      }

      a:hover, a:focus {
        color: #666;              /* subtle change on hover */
        text-decoration: underline;
      }

      nav a { font-size: 1.1em; margin-left: 1.25em; text-decoration: none; color: #333; }
      nav a:hover { text-decoration: underline; }
      .nav-toggle { display: none; font-size: 1.5em; background: none; border: none; cursor: pointer; }

      .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(25em, 1fr)); gap: 2.5em; }
      .sketch {
        display: flex;
        flex-direction: column;
        align-items: center;   /* center non-text elements */
      }

      .sketch h1 {
        margin: 0 0 0.625em 0;
        font-size: 1.25em;
        text-align: left;      /* sketch title stays left */
        align-self: flex-start;
      }

      .subtitle {
        margin: -0.5em 0 1em 0;  /* tighter to the title */
        font-size: 0.95em;       /* smaller than title */
        font-weight: normal;     /* lighter than title */
        color: #666;             /* subtle gray tone */
        text-align: left;
        align-self: flex-start;
      }

      .iframe-container {
        display: flex;
        justify-content: center;
        align-items: center;
        width: 100%; 
        margin: 0 auto;
      }

      .iframe-wrapper {
        width: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
        overflow: hidden;
        position: relative;
        margin: 0;          /* ðŸ”¹ no vertical gaps */
        background: none;
        max-height: 30vh;
      }

      .iframe-wrapper iframe {
        width: 100%;
        height: 100%;
        border: none;        /* removes the black outline */
        display: block;      /* ensures no extra whitespace */
      }

      .writeup {
        width: 100%;           /* let text span full line */
        text-align: left;   /* fills the line neatly */
      }

    .gallery {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(12em, 1fr));
        gap: 1em;
        margin-top: 2em;
        justify-items: center; /* center thumbnails */
      }

      .gallery img {
        width: 100%;
        height: auto;
        border: 1px solid #ccc;
        border-radius: 4px;
        cursor: pointer;
        transition: transform 0.2s ease;
      }
      .gallery img:hover { transform: scale(1.02); }

      /* Lightbox */
      .lightbox {
        display: none;
        position: fixed;
        z-index: 1000;
        left: 0; top: 0;
        width: 100%; height: 100%;
        background: rgba(0,0,0,0.85);
        justify-content: center;
        align-items: center;
      }
      .lightbox img {
        max-width: 90%;
        max-height: 90%;
        border: none;          /* removed border */
        border-radius: 0;      /* removed rounded corners */
        box-shadow: none;      /* ensure no shadow */
      }
      .lightbox.active {
        display: flex;
        border: none;     
      }
      .lightbox-close {
        position: absolute;
        border: none;     
        top: 1em;
        right: 1em;
        font-size: 2em;
        color: #fff;
        cursor: pointer;
        font-weight: bold;
      }

      .lightbox-arrow {
        position: absolute;
        bottom: 1em;        /* stick to bottom instead of center */
        top: auto;          /* reset top */
        transform: none;    /* remove the vertical centering */
        font-size: 2em;     /* a bit smaller looks nicer at bottom */
        color: #fff;
        cursor: pointer;
        user-select: none;
        padding: 0 0.5em;
      }
      
      .lightbox-arrow.left { left: 1em; }
      .lightbox-arrow.right { right: 1em; }

      /* YouTube embed */
      .video-container {
        margin-top: 2em;
        text-align: center;
      }
      .video-container iframe {
        max-width: 100%;
      }

      .hline {
        width: 100%;            /* full width of container */
        border: 0;              /* remove default border */
        height: 0.5px;            /* line thickness */
        background-color: #333; /* dark gray line */
        margin: 5em;          /* spacing above/below */
      }      

      .inline-images {
        display: block;   /* no flex/grid needed */
        margin: 0;        /* remove extra margins */
        padding: 0;
      }

      .inline-images figure {
        margin: 0;
      }

      .inline-images img {
        display: block;
        width: 100vw;     /* span full viewport width */
        height: auto;
        margin: 0;
        border-radius: 0; /* remove rounding so edges align flush */
      }

      .inline-images figcaption {
        margin-top: 0.5em;
        font-size: 0.95em;
        color: #555;
      }

      footer {
        margin-top: 3.75em;
        font-size: 0.9em;
        text-align: center;
        color: #777;
      }

      @media (max-width: 37.5em) {
        body { font-size: 1.125em; line-height: 1.7; }
        .grid { grid-template-columns: 1fr !important; gap: 1.5em; }
        .iframe-container { width: 90vmin; max-height: 40vh; aspect-ratio: 18 / 5; margin: 0 auto; }
        .nav-toggle { display: block; }
        .nav-links { display: none; flex-direction: column; width: 100%; margin-top: 0.5em; align-items: flex-end; }
        .nav-links.active { display: flex; }
        .nav-links a { display: block; margin: 0.3125em 0; font-size: 1.1em; text-align: right; }
        .iframe-wrapper {max-height: 40vh; aspect-ratio: 18 / 5;          /* reduce iframe dominance */}
      }
    </style>
  </head>

  <body>
    <header>
      <h1><a class="title-link inactive" href="index.html">Burning Daylight</a></h1>
      <button class="nav-toggle" aria-label="Toggle navigation">â˜°</button>
      <nav class="nav-links">
        <a href="index.html">genart</a>
        <a href="fiction.html">fiction</a>
        <a href="nonfiction.html">nonfiction</a>
        <a href="about.html">about</a>
        <a href="contact.html">contact</a>
      </nav>
    </header>
    
    <div class="grid">
      <div class="sketch">
        <h1>Perpetual Departure</h1>
        <h2 class="subtitle">2020-07-20</h2>

        
      <div class="inline-images">
        <figure>
          <img src="sketches/sketch15/gallery/00.webp" alt="PD1">
        </figure>

        <figure>
          <img src="sketches/sketch15/gallery/01.webp" alt="PD2">
        </figure>

        <figure>
          <img src="sketches/sketch15/gallery/02.webp" alt="PD3">
        </figure>
      </div>


      

        <hr class="hline">

       <!-- START: sketch display portion  -->
      <div class="iframe-container">
        <div class="iframe-wrapper">
          <iframe class="sketch-iframe"
                  src="sketches/sketch15/src/index.html"
                  scrolling="no"
                  allowfullscreen
                  title="PD1"></iframe>
        </div>
      </div>
      <!-- END: sketch display portion -->

      <!-- START: sketch display portion  -->
      <div class="iframe-container">
        <div class="iframe-wrapper">
          <iframe class="sketch-iframe"
                  src="sketches/sketch15/src2/index.html"
                  scrolling="no"
                  allowfullscreen
                  title="PD2"></iframe>
        </div>
      </div>
      <!-- END: sketch display portion -->

      <!-- START: sketch display portion  -->
      <div class="iframe-container">
        <div class="iframe-wrapper">
          <iframe class="sketch-iframe"
                  src="sketches/sketch15/src3/index.html"
                  scrolling="no"
                  allowfullscreen
                  title="PD3"></iframe>
        </div>
      </div>
      <!-- END: sketch display portion -->


        
      

        <hr class="hline">


      <div class="inline-images">
        <figure>
          <img src="sketches/sketch15/gallery/03.webp" alt="PD1">
        </figure>

        <figure>
          <img src="sketches/sketch15/gallery/04.webp" alt="PD2">
        </figure>

        <figure>
          <img src="sketches/sketch15/gallery/05.webp" alt="PD3">
        </figure>
      </div>

        

      </div>
    </div>

    <!-- Lightbox -->
    <div id="lightbox" class="lightbox">
      <span class="lightbox-close" onclick="closeLightbox()">&times;</span>
      <span class="lightbox-arrow left" onclick="prevImage()">&#10094;</span>
      <span class="lightbox-arrow right" onclick="nextImage()">&#10095;</span>
      <img id="lightbox-img" src="" alt="Expanded view">
    </div>

    <footer><p></p></footer>
    
    <script>
  // Select both gallery and inline images
  const allImages = Array.from(document.querySelectorAll('.gallery img, .inline-images img'));
  let currentIndex = 0;

  function openLightbox(src) {
    currentIndex = allImages.findIndex(img => img.src === src);
    document.getElementById('lightbox-img').src = src;
    document.getElementById('lightbox').classList.add('active');
  }

  function closeLightbox() {
    document.getElementById('lightbox').classList.remove('active');
  }

  function nextImage() {
    currentIndex = (currentIndex + 1) % allImages.length;
    document.getElementById('lightbox-img').src = allImages[currentIndex].src;
  }

  function prevImage() {
    currentIndex = (currentIndex - 1 + allImages.length) % allImages.length;
    document.getElementById('lightbox-img').src = allImages[currentIndex].src;
  }

  // Attach click events to all images
  allImages.forEach(img => {
    img.addEventListener('click', () => openLightbox(img.src));
  });

  // Close lightbox on Escape key
  document.addEventListener('keydown', (e) => {
    const lightbox = document.getElementById('lightbox');
    if (!lightbox.classList.contains('active')) return;
    if (e.key === "Escape") closeLightbox();
    if (e.key === "ArrowRight") nextImage();
    if (e.key === "ArrowLeft") prevImage();
  });
</script>


    <!-- Script specific to the iframe wrapper: sizes it to available viewport space and (if same-origin) centers the sketch content inside the iframe -->
    <script>
      (function(){
        const header = document.querySelector('header');
        const wrappers = document.querySelectorAll('.iframe-wrapper');

        function resizeWrapper(wrapper){
          const headerRect = header ? header.getBoundingClientRect() : { bottom: 0, height: 0 };
          const paddingEst = 32;
          const available = Math.max(300, window.innerHeight - headerRect.bottom - paddingEst);
          const final = Math.min(available, Math.round(window.innerHeight * 0.9));
          wrapper.style.height = final + 'px';
        }

        function tryCenterIframeContent(iframe){
          try {
            const doc = iframe.contentDocument || iframe.contentWindow.document;
            if (!doc) return;

            doc.documentElement.style.height = '100%';
            doc.body.style.height = '100%';
            doc.body.style.margin = '0';
            doc.body.style.display = 'flex';
            doc.body.style.justifyContent = 'center';
            doc.body.style.alignItems = 'center';
            doc.body.style.overflow = 'hidden';

            const canvas = doc.querySelector('canvas');
            if (canvas) {
              canvas.style.maxWidth = '100%';
              canvas.style.maxHeight = '100%';
              canvas.style.width = 'auto';
              canvas.style.height = 'auto';
              canvas.style.display = 'block';
            }
          } catch (e) {}
        }

        wrappers.forEach(wrapper => {
          const iframe = wrapper.querySelector('iframe');
          if (!iframe) return;

          function handleResize(){ resizeWrapper(wrapper); }
          window.addEventListener('resize', handleResize);
          window.addEventListener('orientationchange', handleResize);

          iframe.addEventListener('load', function(){
            handleResize();
            tryCenterIframeContent(iframe);
            setTimeout(() => tryCenterIframeContent(iframe), 500);
            setTimeout(() => tryCenterIframeContent(iframe), 1500);
          });

          handleResize();
        });
      })();

    </script>
  </body>
  </html>
